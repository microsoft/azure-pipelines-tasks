{
  "id": "334727F4-9495-4F9D-A391-FC621D671474",
  "name": "GoTool",
  "friendlyName": "Go tool installer",
  "description": "Find in cache or download a specific version of Go and add it to the PATH",
  "helpUrl": "https://docs.microsoft.com/azure/devops/pipelines/tasks/tool/go-tool",
  "helpMarkDown": "[Learn more about this task](https://go.microsoft.com/fwlink/?linkid=867581) or [see the Go documentation](https://golang.org/doc/)",
  "category": "Tool",
  "runsOn": [
    "Agent",
    "DeploymentGroup"
  ],
  "author": "Microsoft Corporation",
  "version": {
    "Major": 0,
    "Minor": 269,
    "Patch": 0
  },
  "satisfies": [
    "GO"
  ],
  "demands": [],
  "instanceNameFormat": "Use Go $(version)",
  "groups": [
    {
      "name": "advanced",
      "displayName": "Advanced",
      "isExpanded": false
    }
  ],
  "inputs": [
    {
      "name": "useGoMod",
      "type": "boolean",
      "label": "Use go.mod",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": "Select this option to install the Go version matching the specified go.mod file. These files are searched from system.DefaultWorkingDirectory. You can change the search root path by setting working directory input."
    },
    {
      "name": "workingDirectory",
      "type": "filePath",
      "label": "Working Directory",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify path from where go.mod files should be searched when using `Use go.mod`. If empty, `system.DefaultWorkingDirectory` will be considered as the root path.",
      "visibleRule": "useGoMod = true"
    },
    {
      "name": "version",
      "type": "string",
      "label": "Version",
      "defaultValue": "1.10",
      "required": true,
      "helpMarkDown": "The Go version to download (if necessary) and use. Example: 1.9.3",
      "visibleRule": "useGoMod = false"
    },
    {
      "name": "goPath",
      "type": "string",
      "label": "GOPATH",
      "helpMarkDown": "A custom value for the GOPATH environment variable.",
      "groupName": "advanced"
    },
    {
      "name": "goBin",
      "type": "string",
      "label": "GOBIN",
      "helpMarkDown": "A custom value for the GOBIN environment variable.",
      "groupName": "advanced"
    },
    {
      "name": "goDownloadUrl",
      "type": "string",
      "label": "Go download URL",
      "required": false,
      "defaultValue": "https://go.dev/dl",
      "helpMarkDown": "URL for downloading Go binaries. Only https://go.dev/dl (official) and https://aka.ms/golang/release/latest (Microsoft build) are supported. If omitted, the official Go download URL (https://go.dev/dl) will be used. This parameter takes priority over the GOTOOL_GODOWNLOADURL environment variable if both are set.",
      "groupName": "advanced"
    }
  ],
  "execution": {
    "Node10": {
      "target": "gotool.js",
      "argumentFormat": ""
    },
    "Node16": {
      "target": "gotool.js",
      "argumentFormat": ""
    },
    "Node20_1": {
      "target": "gotool.js",
      "argumentFormat": ""
    },
    "Node24": {
      "target": "gotool.js",
      "argumentFormat": ""
    }
  },
  "messages": {
    "FailedToDownload": "Failed to download Go version %s. Verify that the version is valid and resolve any other issues. Error: %s",
    "TempDirNotSet": "The 'Agent.TempDirectory' environment variable was expected to be set.",
    "FailedToFindGoMod": "No go.mod file found in directory '%s'. Make sure go.mod file exists in the specified directory or its subdirectories.",
    "GoModVersionDetected": "Detected Go version '%s' from go.mod file: %s",
    "GoModVersionNotFound": "Could not find Go version directive in go.mod file: %s",
    "FailedToReadGoMod": "Failed to read go.mod file '%s': %s"
  }
}
