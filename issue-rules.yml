
# primary rules
rules:
# Area: AppCenter
- valueFor: '**Enter Task Name**'
  contains: 'AppCenter'
  addLabels: ['Area: AppCenter']
# Area: Artifacts
- valueFor: '**Enter Task Name**'
  contains: 'DownloadPackage'
  addLabels: ['Area: Artifacts']
- valueFor: '**Enter Task Name**'
  contains: 'MavenAuthenticate'
  addLabels: ['Area: Artifacts']
- valueFor: '**Enter Task Name**'
  contains: 'Nuget'
  addLabels: ['Area: Artifacts']
- valueFor: '**Enter Task Name**'
  contains: 'Npm'
  addLabels: ['Area: Artifacts']  
# Area: Build
- valueFor: '**Enter Task Name**'
  contains: 'VSBuild'
  addLabels: ['Area: Build']
- valueFor: '**Enter Task Name**'
  contains: 'MSBuild'
  addLabels: ['Area: Build']  
# Area: Core
- valueFor: '**Enter Task Name**'
  contains: 'Bash'
  addLabels: ['Area: Core']
  assign: ['jtpetty']
- valueFor: '**Enter Task Name**'
  contains: 'CmdLine'
  addLabels: ['Area: Core']
  assign: ['jtpetty']  
- valueFor: '**Enter Task Name**'
  contains: 'PowerShellV2'
  addLabels: ['Area: Core']
  assign: ['jtpetty']
# Area: CrossPlatform
- valueFor: '**Enter Task Name**'
  contains: 'Android'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']
- valueFor: '**Enter Task Name**'
  contains: 'Gradle'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']
- valueFor: '**Enter Task Name**'
  contains: 'Maven'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']
- valueFor: '**Enter Task Name**'
  contains: 'Python'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']
- valueFor: '**Enter Task Name**'
  contains: 'PyPI'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']  
- valueFor: '**Enter Task Name**'
  contains: 'XCode'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']      
- valueFor: '**Enter Task Name**'
  contains: 'Xamarin'
  addLabels: ['Area: CrossPlatform']
  assign: ['leantk']     
# Area: Release
- valueFor: '**Enter Task Name**'
  contains: 'AzureCli'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'ResourceGroup'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'Vmss'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'DotNetCore'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'UseDotNet'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'Go'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'Packer'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'ServiceFabric'
  addLabels: ['Area: Release']
  assign: ['bishal-pdmsft']
- valueFor: '**Enter Task Name**'
  contains: 'IoTEdge'
  addLabels: ['Area: Release']
  assign: ['prativen']
- valueFor: '**Enter Task Name**'
  contains: 'GithubRelease'
  addLabels: ['Area: Release']
  assign: ['prativen']
- valueFor: '**Enter Task Name**'
  contains: 'BuildArtifacts'
  addLabels: ['Area: Release']
  assign: ['Lovakumar']
- valueFor: '**Enter Task Name**'
  contains: 'FileshareArtifacts'
  addLabels: ['Area: Release']
  assign: ['Lovakumar']
- valueFor: '**Enter Task Name**'
  contains: 'DownloadGitHub'
  addLabels: ['Area: Release']
  assign: ['Lovakumar']
- valueFor: '**Enter Task Name**'
  contains: 'JenkinsDownload'
  addLabels: ['Area: Release']
  assign: ['Lovakumar']
- valueFor: '**Enter Task Name**'
  contains: 'KeyVault'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'AzureMonitorV'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'AzurePolicy'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Docker'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Helm'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Kubectl'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Kubernetes'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Duffle'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'Delay'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'InvokeRestApi'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'QueryWorkItems'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'AzureServiceBus'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'ManualIntervention'
  addLabels: ['Area: Release']
  assign: ['vithati']
- valueFor: '**Enter Task Name**'
  contains: 'AzureCloud'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'AppService'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'WebApp'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'AzureFunction'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'AzureFileCopy'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'AzurePowerShell'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'PowerShellOnTarget'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'AzureNLB'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'Sql'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'Mysql'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'MonitorAlerts'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'Chef'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'IISWeb'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'WindowsMachine'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
- valueFor: '**Enter Task Name**'
  contains: 'Azure'
  addLabels: ['Area: Release']
  assign: ['kmkumaran']
# Area: PipelineCaching
- valueFor: '**Enter Task Name**'
  contains: 'Cache'
  addLabels: ['Area: PipelineCaching']
  assign: ['johnterickson']

# Area: Test
- valueFor: '**Enter Task Name**'
  contains: 'VSTest'
  addLabels: ['Area: Test']
- valueFor: '**Enter Task Name**'
  contains: 'PublishTest'
  addLabels: ['Area: Test']
  
# Area: ArtifactsPackages
- valueFor: '**Enter Task Name**'
  contains: 'TwineAuthenticate'
  addLabels: ['Area: ArtifactsPackages']
  
# Area: ArtifactsCore
- valueFor: '**Enter Task Name**'
  contains: 'DownloadPipelineArtifact'
  addLabels: ['Area: ArtifactsCore']
- valueFor: '**Enter Task Name**'
  contains: 'PublishPipelineArtifact'
  addLabels: ['Area: ArtifactsCore']

# Types
- valueFor: '*Type*'
  contains: Feature
  addLabels: ['enhancement']
- valueFor: '*Type*'
  contains: Bug
  addLabels: ['bug']
- valueFor: '*Type*'
  contains: Question
  addLabels: ['question']  

# runs if first set had no matches
# add likely teams to look at based on text searches
nomatches:
- contains: 'Xcode' 
  addLabels: ['Area: CrossPlatform']
- contains: 'Bash' 
  addLabels: ['Area: Core']
- contains: 'Nuget' 
  addLabels: ['Area: Artifacts']
- contains: 'Npm' 
  addLabels: ['Area: Artifacts']
- contains: 'Docker' 
  addLabels: ['Area: Release']  

# always runs after rules.  look for missing or invalid sets of tags
tags:
- noneIn: ['bug', 'enhancement', 'question']
  addLabels: ['triage']
- noneMatch: '\s*Area:\s*([^]*)'
  addLabels: ['route']

pathMappings:
- path: 'AzureDevOps\VSTS\Pipelines\Platform'
  labels: ['Area: Core']
- path: 'AzureDevOps\VSTS\Pipelines\Application'
  labels: ['Area: Build']
- path: 'AzureDevOps\VSTS\Pipelines\Integration'
  labels: ['Area: CrossPlatform']
- path: 'AzureDevOps\VSTS\Artifacts'
  labels: ['Area: Artifacts', 'Area: ArtifactsCore', 'Area: ArtifactsPackages', 'Area: PipelineArtifact', 'Area: PipelineCaching', 'Area: Symbols']
- path: 'AzureDevOps\VSTS\Pipelines\RM-Service'
  labels: ['Area: Release', 'Area: AzureAppService']
- path: 'AzureDevOps\VSTS\Pipelines\Test Management and Reporting'
  labels: ['Area: Test', 'Area: TestManagement', 'Area: CodeCoverage']
# TODO - AppCenter owned by teams in AzureDevOps org - probably nothing to be done, worth thinking about
# - path: 
#   labels: ['Area: AppCenter']
